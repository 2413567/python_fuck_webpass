# python_fuck_webpass
python爆破web弱口令，基于sqllite，支持多线程，账号成功后可跳过。支持中断。异常状态重试三次，间隔5秒，三次后异常抛出。
# 免责声明：

1. 本代码仅供学习和研究使用，不得用于非法用途。任何人或组织使用本代码造成的一切后果，与本代码作者无关。

2. 使用本代码进行密码爆破可能会违反相关法律法规，由此造成的法律责任与本代码作者无关。

3. 本代码作者不保证代码完全无误，并对因使用本代码而导致的任何直接、间接、偶然或特殊损失不承担任何责任。

4. 本代码作者保留随时修改、更新、删除本代码的权利，不保证代码持续可用。

5. 任何使用本代码的行为均视为已接受本免责声明。如有异议，请勿使用本代码。
#本代码使用Python语言实现了一个基本的密码爆破脚本，可以发送POST请求并逐个尝试用户名和密码组合以登录指定的网站，并将请求和响应数据保存到SQLite数据库中。

代码包含如下模块：

- json：用于处理JSON数据的库。
- logging：用于记录日志的库。
- requests：用于发送HTTP/HTTPS请求的库。
- tenacity：用于重试失败操作的库。
- SpiderDB：一个自定义的SQLite数据库类，用于进行数据库操作。
- ThreadPoolExecutor：用于创建线程池的库。
- threading：用于创建锁对象的库。
- os：用于访问操作系统功能的库。

其中，主要功能是对指定网站的登录页进行POST请求，并尝试使用用户名和密码组合进行登录。具体实现流程如下：

1. 定义一个名为`error_callback`的函数，用于记录重试次数。该函数接收一个参数`retry_state`，并在每次重试时打印出当前重试的次数和被重试的函数名。

2. 定义一个名为`Spider`的类，用于进行密码爆破。该类包含如下属性：

- usernames：待尝试的用户名列表。
- passwords：待尝试的密码列表。
- db：一个自定义的SQLite数据库对象，用于保存请求和响应数据。
- headers：HTTP请求头信息。
- proxy：代理服务器地址。
- url：待攻击的URL地址。
- data：POST请求数据。
- time_sleep：每次尝试登录后等待的时间间隔。
- pool：一个线程池对象，用于并发处理尝试不同用户名和密码组合的操作。
- lock：一个锁对象，用于保护共享资源。
- successful_users：已成功登录的用户列表。

3. 定义`load_successful_users`方法，用于加载已成功登录的用户列表。该方法会从本地文件`successful_user.txt`中读取已成功登录的用户名列表，并返回该列表。

4. 定义`save_successful_users`方法，用于保存已成功登录的用户列表。该方法将已成功登录的用户名列表写入到本地文件`successful_user.txt`中。

5. 定义`insert_request`方法，用于向数据库中插入请求数据。该方法接收三个参数：当前URL、当前用户名和当前密码。在插入请求数据时，该方法会获取请求ID并返回。

6. 定义`insert_response`方法，用于向数据库中插入响应数据。该方法接收六个参数：请求ID、状态码、响应头信息、响应正文、网页标题和当前URL。

7. 定义名为`get_response`的装饰器，用于对函数进行重试操作。该装饰器使用tenacity库实现，可以在请求失败时自动进行重试。重试次数限制为3次，每次重试间隔为5秒。在每次重试时，调用`error_callback`函数记录重试次数。

8. 定义`get_response`方法，用于发送POST请求并获取响应数据。该方法接收两个参数：当前用户名和当前密码。在发送POST请求后，根据响应结果判断是否成功登录，并将请求和响应数据保存到数据库中。

9. 定义`check_pass`方法，用于检查当前用户名和密码组合是否已经尝试过。该方法会查询数据库检查是否存在对应的请求数据，如果存在则返回True，否则返回False。

10. 定义`main`方法，用于执行密码爆破操作。在每次尝试登录时，通过线程池异步发送POST请求并获取响应数据。在所有尝试结束后，保存已成功登录的用户列表并关闭数据库连接。
